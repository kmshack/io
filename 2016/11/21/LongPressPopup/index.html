<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>LongPressPopup</title>
  <meta name="description" content="LongPressPopupYou can try the demo app on google play store. https://play.google.com/store/apps/details?id=rm.com.longpresspopupsample A library that let you...">
  <meta name="google-site-verification" content="SdS3Myp0gxMT0PW20YZJgY62fN2dwUJXm98qUMV-pWk" />
  <meta name="naver-site-verification" content="4e434557f6ef7e194c75ee4b683b81f01894af85"/>
    
  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://android.kmshack.kr/2016/11/21/LongPressPopup/">
  <link rel="alternate" type="application/rss+xml" title="Android UI OpenSource" href="http://android.kmshack.kr/feed.xml">
  <link href="https://fonts.googleapis.com/css?family=Merriweather:300,400" rel="stylesheet">
    
  <meta name="description" content="LongPressPopupYou can try the demo app on google play store. https://play.google.com/store/apps/details?id=rm.com.longpresspopupsample A library that let you...">


  <meta name="author" content="kmshack" />

  <meta property="og:title" content="LongPressPopup">
  <meta property="og:site_name" content="Android UI OpenSource" />
  <meta property="og:description" content="LongPressPopupYou can try the demo app on google play store. https://play.google.com/store/apps/details?id=rm.com.longpresspopupsample A library that let you...">
  <meta property="og:url" content="http://android.kmshack.kr/2016/11/21/LongPressPopup/" />
  <meta property="og:locale" content="en_US" />
  <meta name="twitter:site" content="@kmshack" />
  <meta name="twitter:description" content="LongPressPopupYou can try the demo app on google play store. https://play.google.com/store/apps/details?id=rm.com.longpresspopupsample A library that let you..." />

  
  	<!-- Article specific OG data -->
  	<meta property="og:type" content="article" />
  	<meta property="article:published_time" content="2016-11-21 00:00:00 +0900" />
  	
  	<meta property="article:author" content="http://facebook.com/kmshack" />
    <meta property="article:publisher" content="https://www.facebook.com/kmshack" />
  	<meta property="article:section" content="" />
  	

  	<meta name="twitter:card" content="summary_large_image" />
  	<meta name="twitter:creator" content="@kmshack_kr" />
  	<meta name="twitter:title" content="LongPressPopup" />
	
	  	<meta property="og:image" content="/images/posts/2016-11-21-LongPressPopup.gif" />
	  	<meta name="twitter:image" content="/images/posts/2016-11-21-LongPressPopup.gif" />
  	

  

  <script>
    var base_url = "";
  </script>
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-2770700228376888",
    enable_page_level_ads: true
  });
</script>
    
</head>

<body>

  <!-- Google Analytics Code -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-85072530-1', 'auto');
  ga('send', 'pageview');

</script>

  <div class="off-canvas-container">
    <div class="sidebar">
  <div class="row">

    <div class="column small-10 large-12">
      <br>
      <h1 class="sidebar__logo logo"><a href="/">Android UI OpenSource</a></h1>
      <div class="sidebar__description font-tiny">Collection of OpenSource for Android UI.</div>
    </div>

    <label class="off-canvas-toggle"><span data-icon="ei-navicon" data-size="s"></span></label>

    <div class="off-canvas-content">

      <div class="column small-12 large-12">
        <nav class="navigation">
          <ul class="list-bare text-center">
            
              
            
              
                
                  <li>
                    <a class="page-link" href="/about.html">About</a>
                  </li>
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
              
                
              
            
            <li><a class="subscribe-button icon-feed" href="/feed.xml">RSS</a></li>
          </ul>
        </nav>
      </div>

      <div class="column small-12 large-12">
        <ul class="social-nav social-icons">

          
          <li>
            <a href="http://www.github.com/kmshack" target="_blank">
              <span data-icon="ei-sc-github" data-size="s"></span>
            </a>
          </li>
          

          
          <li>
            <a href="http://www.twitter.com/kmshack_kr" target="_blank">
              <span data-icon="ei-sc-twitter" data-size="s"></span>
            </a>
          </li>
          

          
          <li>
            <a href="mailto:kmshack@naver.com" target="_blank">
              <span data-icon="ei-envelope" data-size="s"></span>
            </a>
          </li>
          

          <li>
            <a class="toggle-search-button" href="#">
              <span data-icon="ei-search" data-size="s"></span>
            </a>
          </li>
        </ul>
      </div>
        
      <div class="sidebar__bottom">
        <div class="column small-12 large-12">
            
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <!-- androidui -->
        <ins class="adsbygoogle"
             style="display:inline-block;width:250px;height:250px"
             data-ad-client="ca-pub-9975139260149901"
             data-ad-slot="5123612274"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>

            
          <div class="font-tiny">
              <br>
            &copy; 2016 Android UI OpenSource
          </div>
        </div>
      </div>
        
    </div> <!-- off-canvas-content -->
      


  </div>
    

    
</div>

<div class="search-form-container">

  <form class="search-form">
    <fieldset class="search-form__fieldset">
      <div class="row">
        <div class="column column--center large-8">
          <input class="search-form__field" placeholder="Type to search" autofocus>
          <input class="search-form__submit" type="submit" value="search">
        </div>
      </div>
    </fieldset>
  </form>

  <div class="row">
    <div class="column column--center large-8">
      <div class="search-results"></div>
    </div>
  </div>

  <div data-icon="ei-close" data-size="s" class="close-search-button search-form-container__close"></div>

</div>

    



<div class="wrapper">
  <div class="row row--full">

    <div class="column column--center medium-12 large-12">
      <div class="grey-bg CoverImage FlexEmbed FlexEmbed--16by9" style="background-image: url(/images/posts/2016-11-21-LongPressPopup.gif)"></div>
        
    </div>
      
    <div class="column column--center medium-12 large-10">
      <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

        
          <meta itemprop="og:image" content="http://android.kmshack.kr/images/posts/2016-11-21-LongPressPopup.gif">
        

        <header class="post__header">
          <h2 class="post__title" itemprop="name headline">LongPressPopup</h2>
          
          <h3 class="post__date">
            <a href="https://github.com/RiccardoMoro/LongPressPopup" target="_blank"><span data-icon="ei-sc-github" data-size="s"></span>https://github.com/RiccardoMoro/LongPressPopup</a>
          </h3>
        </header>

        <div class="post-content" itemprop="articleBody">
            
            <div class="column column--center medium-12 large-4">
              <div class="grey-bg CoverImage FlexEmbed FlexEmbed--9by16" style="background-image: url(/images/posts/2016-11-21-LongPressPopup.gif)"></div>
            </div>
             <br><br>
            <hr>
          <br>
          <h1 id="longpresspopup">LongPressPopup</h1>

<p><img src="sample.gif" title="sample" />
<br />
You can try the demo app on google play store. <br />
https://play.google.com/store/apps/details?id=rm.com.longpresspopupsample <br /></p>

<p>A library that let you implement a behaviour similar to the Instagram’s <br />
long press to show detail one, with the option to put every kind of views inside it, <br />
(even web views, lists, pagers and so on) show tooltips on drag over <br />
and handle the release of the finger over Views <br /></p>

<p>[Changelog] (CHANGELOG.md)<br /></p>

<h2 id="download">Download</h2>
<p>####Gradle:
<code class="highlighter-rouge">groovy
compile 'com.rm:longpresspopup:1.0.0'
</code></p>

<p>##Usage</p>

<p>####Basic
Here’s a basic example <br /></p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ActivityMain</span> <span class="kd">extends</span> <span class="n">AppCompatActivity</span> <span class="o">{</span>
        
    <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="n">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
            <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
            <span class="n">setContentView</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>
            
            <span class="n">Button</span> <span class="n">btn</span> <span class="o">=</span> <span class="o">(</span><span class="n">Button</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">btn_popup</span><span class="o">);</span>
            
            <span class="c1">// Create a foo TextView</span>
            <span class="n">TextView</span> <span class="n">textView</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TextView</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
            <span class="n">textView</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Hello, Foo"</span><span class="o">);</span>
            
            <span class="n">LongPressPopup</span> <span class="n">popup</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LongPressPopupBuilder</span><span class="o">(</span><span class="k">this</span><span class="o">)</span><span class="c1">// A Context object for the builder constructor</span>
                    <span class="o">.</span><span class="na">setTarget</span><span class="o">(</span><span class="n">btn</span><span class="o">)</span><span class="c1">// The View which will open the popup if long pressed</span>
                    <span class="o">.</span><span class="na">setPopupView</span><span class="o">(</span><span class="n">textView</span><span class="o">)</span><span class="c1">// The View to show when long pressed </span>
                    <span class="o">.</span><span class="na">build</span><span class="o">();</span><span class="c1">// This will give you a LongPressPopup object</span>
                    
            <span class="c1">// You can also chain it to the .build() mehod call above without declaring the "popup" variable before </span>
            <span class="n">popup</span><span class="o">.</span><span class="na">register</span><span class="o">();</span><span class="c1">// From this moment, the touch events are registered and, if long pressed, will show the given view inside the popup, call unregister() to stop</span>
        <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<p><img src="sample_short.gif" title="sample" /></p>

<p>####Advanced
Here’s a complete example with all the options <br />
```java
public class ActivityMain extends AppCompatActivity implements PopupInflaterListener,
            PopupStateListener, PopupOnHoverListener, View.OnClickListener {</p>

<div class="highlighter-rouge"><pre class="highlight"><code>private static final String TAG = ActivityMain.class.getSimpleName();
 
private TextView mTxtPopup;   
    
@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);
    
    Button btn = (Button) findViewById(R.id.btn_popup);
    
    LongPressPopup popup = new LongPressPopupBuilder(this)
                    .setTarget(btn)
                    //.setPopupView(textView)// Not using this time
                    .setPopupView(R.layout.popup_layout, this)
                    .setLongPressDuration(750)
                    .setDismissOnLongPressStop(false)
                    .setDismissOnTouchOutside(false)
                    .setDismissOnBackPressed(false)
                    .setCancelTouchOnDragOutsideView(true)
                    .setLongPressReleaseListener(this)
                    .setOnHoverListener(this)
                    .setPopupListener(this)
                    .setTag("PopupFoo")
                    .setAnimationType(LongPressPopup.ANIMATION_TYPE_FROM_CENTER)
                    .build();
            
    // You can also chain it to the .build() mehod call above without declaring the "popup" variable before 
    popup.register();
}


// Popup inflater listener
@Override
public void onViewInflated(@Nullable String popupTag, View root) {
    mTxtPopup = (TextView) root.findViewById(R.id.txt_popup);
}


// Touch released on a View listener
@Override
public void onClick(View view) {
    if (mTxtPopup = null &amp;&amp; view.getId() == mTxtPopup.getId()) {
        Toast.makeText(ActivityMain.this, "TextView Clicked", Toast.LENGTH_SHORT).show();
    }
}


// PopupStateListener
@Override
public void onPopupShow(@Nullable String popupTag) {
    if(mTxtPopup = null) {
        mTxtPopup.setText("FooBar");
    }
}

@Override
public void onPopupDismiss(@Nullable String popupTag) {
    Toast.makeText(this, "Popup dismissed", Toast.LENGTH_SHORT).show();
}


// Hover state listener
@Override
public void onHoverChanged(View view, boolean isHovered) {
    Log.e(TAG, "Hover change: " + isHovered + " on View " + view.getClass().getSimpleName());
} } ``` &lt;br /&gt; &lt;br /&gt; And here are the functions you can use to customize the Popup and it's behaviour from the LongPressPopupBuilder class: &lt;br /&gt;
</code></pre>
</div>

<ul>
  <li><code class="highlighter-rouge">public LongPressPopupBuilder setTarget(View target)</code> <b>(null by default) </b> <br />
  Select which view will show the popup view if long pressed <br /> <br /></li>
  <li><code class="highlighter-rouge">public LongPressPopupBuilder setPopupView(View popupView)</code> <b>(null by default)</b> <br />
  Select the view that will be shown inside the popup <br /> <br /></li>
  <li><code class="highlighter-rouge">public LongPressPopupBuilder setPopupView(@LayoutRes int popupViewRes, PopupInflaterListener inflaterListener)</code> <b>(0, null by default)</b> <br />
  Select the view that will be shown inside the popup, and give the popup that will be <br />
  called when the view is inflated (not necessarily when shown, so not load images and so on in this callback, <br />
  just take the views like in the OnCreate method of an Activity) <br /> <br /></li>
  <li><code class="highlighter-rouge">public LongPressPopupBuilder setLongPressDuration(@IntRange(from = 1) int duration)</code> <b>(500 by default)</b> <br />
  Pretty self explanatory right? **Captain here, the long press time needed to show the popup <br /> <br /></li>
  <li><code class="highlighter-rouge">public LongPressPopupBuilder setDismissOnLongPressStop(boolean dismissOnPressStop)</code> <b>(true by default)</b> <br />
  Set if the popup will be dismissed when the user releases the finger (if released on a View inside <br />
  the popup, the View’s or the given OnClickListener will be called) <br /> <br /></li>
  <li><code class="highlighter-rouge">public LongPressPopupBuilder setDismissOnTouchOutside(boolean dismissOnTouchOutside)</code> <b>(true by default)</b> <br />
  If <code class="highlighter-rouge">setDismissOnLongPressStop(boolean dismissOnPressStop)</code> is set to false, you can choose to make <br />
  the popup dismiss or not if the user touch outside it with this boolean <br /> <br /></li>
  <li><code class="highlighter-rouge">public LongPressPopupBuilder setDismissOnBackPressed(boolean dismissOnBackPressed)</code>  <b>(true by default)</b> <br />
  If <code class="highlighter-rouge">setDismissOnLongPressStop(boolean dismissOnPressStop)</code> is set to false, you can choose to make <br />
  the popup dismiss or not if the user press the back button <br /> <br /></li>
  <li><code class="highlighter-rouge">public LongPressPopupBuilder setCancelTouchOnDragOutsideView(boolean cancelOnDragOutside)</code> <b>(true by default)</b> <br />
  Set if the long press timer will stop or not if the user drag the finger outside the target View <br />
  (If the target View is inside a scrolling parent, when scrolling vertically the long press timer <br />
  will be automatically stopped <br /> <br /></li>
  <li><code class="highlighter-rouge">public LongPressPopupBuilder setLongPressReleaseListener(View.OnClickListener listener)</code> <b>(null by default)</b> <br />
  This is a standard OnClickListener, which will be called if the user release the finger on a view inside <br />
  the popup, you can use this method or set a standard OnClickListener on the View you want, it will be called <br />
  automatically for you <br /> <br /></li>
  <li><code class="highlighter-rouge">public LongPressPopupBuilder setOnHoverListener(PopupOnHoverListener listener)</code> <b>(null by default)</b> <br />
  This listener will be called every time the user keeps dragging it’s finger inside or outside the popup <br />
  views, with a View reference and a boolean with the hover state <br /> <br /></li>
  <li><code class="highlighter-rouge">public LongPressPopupBuilder setPopupListener(PopupStateListener popupListener)</code> <b>(null by default)</b> <br />
  This listener will be called when the popup is shown or dismissed, use this listener to load images or compile text views and so on <br /> <br /></li>
  <li><code class="highlighter-rouge">public LongPressPopupBuilder setTag(String tag)</code> <b>(null by default)</b> <br />
  This method sets a tag on the LongPressPopup, the given tag will be returned in all the listeners. You can also set it in the build(String tag) <br /> 
  method <br /> <br /></li>
  <li><code class="highlighter-rouge">public LongPressPopupBuilder setAnimationType(@LongPressPopup.AnimationType int animationType)</code> <b>(none by default)</b> <br />
  This method set the opening and closing animation for the popup, can be none or from-to Bottom, Top, Right, Left, Center</li>
</ul>

<p><br /><br /></p>

<p>Also, the LongPressPopup class gives some utility methods, like <br /> 
* <code class="highlighter-rouge">public void register()</code> <br />
    Which means that the popup is listening for touch events on the given view to show itself <br /> <br />
* <code class="highlighter-rouge">public void unregister()</code> <br />
    Which makes to popup stop listening for touch events and dismiss itself if open  <br /> <br />
* <code class="highlighter-rouge">public void showNow()</code> <br />
    Which shows immediately the popup
* <code class="highlighter-rouge">public void dismissNow()</code> <br />
    Which dismiss immediately the popup if open</p>

<p><br /> <br /></p>

<h2 id="license">License</h2>

<div class="highlighter-rouge"><pre class="highlight"><code>Copyright 2016 Riccardo Moro.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and 
limitations under the License.
</code></pre>
</div>


          <br>
          <div class="post__tags">
            
              <a href="/tag/popup">popup</a>
            
              <a href="/tag/3dtouch">3dtouch</a>
            
          </div>
            
        </div>
          
          <br>
          <hr>
          <br>  
          <div class="post-content"  itemprop="articleBody">
            
          </div>
          <br>
          <hr>
          <br>

        

        

<ul class="share-list">
  <li>
    <a class="share-list__link" href="https://twitter.com/intent/tweet?text=LongPressPopup&url=http://android.kmshack.kr/2016/11/21/LongPressPopup/&via=kmshack_kr&related=kmshack_kr" rel="nofollow" target="_blank" title="Share on Twitter">
      <div data-icon="ei-sc-twitter" data-size="s" class="share-list__icon share-list__icon--twitter"></div>
    </a>
  </li>
  <li>
    <a class="share-list__link" href="https://facebook.com/sharer.php?u=http://android.kmshack.kr/2016/11/21/LongPressPopup/" rel="nofollow" target="_blank" title="Share on Facebook">
    <div data-icon="ei-sc-facebook" data-size="s" class="share-list__icon share-list__icon--facebook"></div>
    </a>
  </li>
  <li>
    <a class="share-list__link" href="https://plus.google.com/share?url=http://android.kmshack.kr/2016/11/21/LongPressPopup/" rel="nofollow" target="_blank" title="Share on Google+">
    <div data-icon="ei-sc-google-plus" data-size="s" class="share-list__icon share-list__icon--google"></div>
    </a>
  </li>
</ul>

        <h5 class="separator">
  <span class="separator__title">Newsletter</span>
</h5>

<div class="box box--news-letter">
  <form action="//aspirethemes.us12.list-manage.com/subscribe/post?u=9723f3c5c3a2637fbba3bc673&amp;id=7b50db9989" method="post" target="_blank">
    <div class="row">
      <div class="column medium-9 large-9">
        <input type="email" name="EMAIL" placeholder="Your email address">
      </div>
      <div class="column medium-3 large-3">
        <input type="submit" class="button button--expand" value="SIGN UP">
      </div>
    </div>
  </form>
</div>

        <section class="disqus">
  <h5 class="separator">
    <span class="separator__title">Comments</span>
  </h5>
  <div id="disqus_thread"></div>

<script>
  var disqus_config = function () {
    this.page.url = "http://android.kmshack.kr/2016/11/21/LongPressPopup/";
  };

  (function() {
    var d = document, s = d.createElement('script');

    s.src = '//android-kmshack-kr.disqus.com/embed.js';

    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</section>
      </article>
    </div>

  </div> <!-- row-->
</div> <!-- wrapper -->
  </div>

  <script src="/js/jquery-2.1.4.min.js"></script>
  <script src="/js/evil-icons.min.js"></script>
  <script src="/js/jquery.fitvids.js"></script>
  <script src="/js/jquery.ghostHunter.min.js"></script>
  <script src="/js/script.js"></script>
</body>

</html>